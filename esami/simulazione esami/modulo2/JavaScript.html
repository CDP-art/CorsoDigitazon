<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        /*
        1 - Find and replace
    Scrivere una funzione che riceva in ingresso tre stringhe:
    ● la prima sara’ un testo
    ● la seconda sara’ una parola che andra’ cercata nel testo
    ● la terza sara’ la parola da sostituire al posto della seconda
    La funzione deve quindi produrrei lo stesso effetto che si ottiene quando si fa find and
    replace di una parola in un testo.
    Si assuma che:
    ● la seconda e la terza stringa siano sempre e solo una parola, mai una frase, quindi
    non ci saranno spazi
    ● sulle stringhe non esistano i metodi indexOf, replace, e similari, dovete scrivere voi
    l’algoritmo
    ● la seconda e la terza parola non necessariamente devono avere lo stesso numero di
    caratteri
    Ricordate che le stringhe in JavaScript sono trattate in modo simile agli array.
    La funzione deve ritornare la nuova stringa aggiornata.
    */


        //scrivere una funzione che prende in ingresso una stringa, la parola da cercare e la parola nuova da sostituire.
        //devo iterare all'interno della stringa per poter prendere la parola interessata
        //quindi trasformo la stringa in un array
        //dopo averla trasformata ci itero all'interno
        //se l'indice corrisponde alla parola da sostituire (parolaC), allora parolaS diventa la parola nuova (parolaN)
        //ristrasformare array in stringa
        //stampa stringa




        let replace = (text, parolaC, parolaN) => {
            let arrayStringa = text.split(" ");
            for (let i = 0; i < arrayStringa.length; i++) {
                if (arrayStringa[i] === parolaC) arrayStringa[i] = parolaN
            }

            return arrayStringa.join(" ");
        }

        console.log(replace("Nel mezzo del cammin di mia vita", "mia", "nostra"));


        /*
        2 - Find and update
    Scrivere una funzione che, dato in ingresso un array di oggetti così strutturato:
    
    
    [
        {
            "maggiorenne": null,
            "type" : "boolean"
        },
    
        {
            "nome" : null,
            "type" : "string"
        },
        {
            "cognome" : "rossi",
            "type" : "string"
        }, ...
    ]
    
    sia in grado di attribuire un valore di default dove sia presente un null, seguendo queste
    regole:
    ● se il type e’ “boolean” deve aggiornare usando false
    ● se il type e’ “string” deve aggiornare usando stringa vuota
    ● se il type e’ “number” deve aggiornare usando 0
    ● se il type e’ “array” deve aggiornare usando array vuoto
    ● se il type e’ “object” deve aggiornare usando oggetto vuoto
    Come vedete ogni singolo oggetto ha sempre due attributi, uno la cui chiave non e’ dato a
    sapere a priori, un altro la cui chiave e’ sempre “type” e il valore e’ nella lista qui sopra.
    La funzione deve ritornare lo stesso oggetto ricevuto in input, con i valori aggiornati.
    */

        //verifica di aggiornamento

        let obj = {
            "maggiorenne": null,
            "type": "boolean"
        };

        // console.log(Object.values(obj));
        // console.log(obj);

        //il .values ti ritorna un array con i valori della chiave.
        //quindi dobbiamo ciclare dentro all'array per prendere ogni singola chiave che ci interessa
        //se l'elemento è null, allora type....



        let people = [

            {
                "maggiorenne": null,
                "type": "boolean"
            },

            {
                "nome": null,
                "type": "string"
            },
            {
                "cognome": "rossi",
                "type": "string"
            }
        ];

        let update = (array) => {
            array.forEach((i) => {
                Object.values(i).forEach((v) => {
                    if (v == null) {
                        if (i.type == "boolean") i.type = false
                        if (i.type == "string") i.type = ""
                        if (i.type == "number") i.type = 0
                        if (i.type == "object") i.type = {}
                        if (i.type == "array") i.type = []
                    }
                })
            })
            return array
        };

        console.log(update(people));


    </script>
</body>

</html>